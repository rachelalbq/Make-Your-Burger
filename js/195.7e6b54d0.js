"use strict";(self["webpackChunkmake_your_burger"]=self["webpackChunkmake_your_burger"]||[]).push([[195],{3195:function(e,t,s){s.r(t),s.d(t,{default:function(){return X}});var a=s(6768);const n={class:"main-container"},l=(0,a.Lk)("h1",null,"Gerenciar Pedidos:",-1);function u(e,t,s,u,r,o){const i=(0,a.g2)("Dashboard");return(0,a.uX)(),(0,a.CE)("div",n,[l,(0,a.bF)(i)])}var r=s(5130),o=s(4232);const i=e=>((0,a.Qi)("data-v-68e5bf40"),e=e(),(0,a.jt)(),e),d={id:"table"},c=i((()=>(0,a.Lk)("div",{id:"table-heading"},[(0,a.Lk)("div",{class:"order-id"},"#"),(0,a.Lk)("div",null,"Cliente"),(0,a.Lk)("div",null,"Pão"),(0,a.Lk)("div",null,"Carne"),(0,a.Lk)("div",null,"Opcionais"),(0,a.Lk)("div",null,"Ações")],-1))),g={id:"table-rows"},h={class:"order-number"},v=["onChange"],k=i((()=>(0,a.Lk)("option",{value:""},"Selecione",-1))),m=["value","selected"],b=["onClick"];function p(e,t,s,n,l,u){const i=(0,a.g2)("Message");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bo)((0,a.bF)(i,{msg:l.msg},null,8,["msg"]),[[r.aG,l.msg]]),(0,a.Lk)("div",d,[(0,a.Lk)("div",null,[c,(0,a.Lk)("div",g,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.burgers,(e=>((0,a.uX)(),(0,a.CE)("div",{class:"table-row",key:e.id},[(0,a.Lk)("div",h,(0,o.v_)(e.id),1),(0,a.Lk)("div",null,(0,o.v_)(e.name),1),(0,a.Lk)("div",null,(0,o.v_)(e.bread),1),(0,a.Lk)("div",null,(0,o.v_)(e.meat),1),(0,a.Lk)("div",null,[(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.optional,((e,t)=>((0,a.uX)(),(0,a.CE)("li",{key:t},(0,o.v_)(e),1)))),128))])]),(0,a.Lk)("div",null,[(0,a.Lk)("select",{name:"status",class:"status",onChange:t=>u.updateBurger(t,e.id)},[k,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.status,(t=>((0,a.uX)(),(0,a.CE)("option",{key:t.id,value:t.type,selected:e.status===t.type},(0,o.v_)(t.type),9,m)))),128))],40,v),(0,a.Lk)("button",{class:"delete-btn",onClick:t=>u.deleteBurger(e.id)}," Cancelar ",8,b)])])))),128))])])])],64)}var L=s(6926),C={name:"Dashboard",components:{Message:L.A},data(){return{burgers:null,burgers_id:null,status:[],msg:null}},methods:{async getOrders(){const e=await fetch("http://localhost:3000/burgers"),t=await e.json();this.burgers=t,this.getStatus()},async getStatus(){const e=await fetch("http://localhost:3000/status"),t=await e.json();this.status=t},async deleteBurger(e){const t=await fetch(`http://localhost:3000/burgers/${e}`,{method:"DELETE"});t.json();this.msg="Pedido removido com sucesso!",setTimeout((()=>this.msg=""),3e3),this.getOrders()},async updateBurger(e,t){const s=e.target.value,a=JSON.stringify({status:s}),n=await fetch(`http://localhost:3000/burgers/${t}`,{method:"PATCH",headers:{"Content-type":"application/json"},body:a});n.json();this.msg="Pedido atualizado com sucesso!",setTimeout((()=>this.msg=""),3e3),this.getOrders()}},mounted(){this.getOrders()}},y=s(1241);const f=(0,y.A)(C,[["render",p],["__scopeId","data-v-68e5bf40"]]);var _=f,E={name:"Orders",components:{Dashboard:_}};const w=(0,y.A)(E,[["render",u]]);var X=w}}]);
//# sourceMappingURL=195.7e6b54d0.js.map